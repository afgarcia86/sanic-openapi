<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Bootstrap Swagger UI</title> 

    <link href="./swagger/css/style.css" rel="stylesheet">
    <link rel="icon" href="./favicon.ico">
</head>

<body data-spy="scroll" data-target="#resources_nav" data-offset="60">
    <nav id="main-nav" class="navbar navbar-expand-md navbar-dark bg-dark">
        <a class="navbar-brand" href="http://swagger.io">Bootstrap Swagger UI</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#sticky_nav_wrapper">
            <span class="navbar-toggler-icon"></span>
        </button>
         <!-- Keep For Reference
        <div class="collapse navbar-collapse" id="swaggerTopNav">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
                </li>
            </ul>
        </div>
        -->
        <form class="form-inline ml-auto d-none d-lg-block">
            <div class="input-group input-group-sm">
                <input type="text" autocorrect="off" class="form-control form-control-sm" id="input_baseUrl" placeholder="http://example.com/api">
                <div class="input-group-append">
                    <button data-add-scope id="update-url" class="btn btn-secondary" type="button">Explore</button>
                </div>
            </div>
        </form>
    </nav>
    <main role="main" class="container-fluid">
        <div id="swagger-ui-container" class="row"></div>
    </main>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="./swagger/lib/jquery-3.2.1.min.js"><\/script>')</script>
    
    <!-- Original Dependencies -->
    <script src='./swagger/lib/jquery.wiggle.min.js' type='text/javascript'></script>
    <script src='./swagger/lib/handlebars-2.0.0.js' type='text/javascript'></script>
    <script src='./swagger/lib/underscore-min.js' type='text/javascript'></script>
    <script src='./swagger/lib/backbone-min.js' type='text/javascript'></script>
    <script src='./swagger/swagger-ui.js' type='text/javascript'></script>
    <script src='./swagger/lib/marked.js' type='text/javascript'></script>
    <script src='./swagger/lib/swagger-oauth.js' type='text/javascript'></script>
    
    <!-- Newer Dependencies -->
    <script src="./swagger/lib/bootstrap.min.js"></script>
    <script src="https://use.fontawesome.com/d4915d92d6.js"></script>
    <script src="./swagger/lib/highlight.pack.js"></script>

    <script type="text/javascript">
        $(function () {
            var url = window.location.search.match(/url=([^&]+)/);
            if (url && url.length > 1) {
                url = decodeURIComponent(url[1]);
            } else {
                url = window.location.toString().replace(/\/*#?.*/, '/petstore.json');
            }

            window.swaggerUi = new SwaggerUi({
                url: url,
                dom_id: "swagger-ui-container",
                supportedSubmitMethods: ['get', 'post', 'put', 'delete', 'patch'],
                onComplete: function (swaggerApi, swaggerUi) {
                    if (typeof initOAuth == "function") {
                        initOAuth();
                    }

                    $('pre code').each(function (i, e) {
                        hljs.highlightBlock(e)
                    });

                    if (swaggerUi.options.url) {
                        $('#input_baseUrl').val(swaggerUi.options.url);
                    }
                },
                onFailure: function (data) {
                    console.log("Unable to Load SwaggerUI");
                },
                docExpansion: "none",
                sorter: "alpha"
            });

            window.swaggerUi.load();

            $('#update-url').click(function(e){                
                if (e) {
                  e.preventDefault();
                }
                $("#explore").trigger("click");
            });

            /* Optional For API w/ Lots of endpoints */
            $(document).on("scroll", function(e) { 
                if (document.documentElement.scrollTop > 54) {
                    $("#swagger_sidebar").addClass("fixed-sidebar");
                } else {
                    $("#swagger_sidebar").removeClass("fixed-sidebar");
                }              
            });
        });
    </script>
</body>
</html>

